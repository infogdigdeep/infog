<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../template/infogMain.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="title">Infog Administration Console</ui:define>
	<ui:define name="content">

		<h:form id="form">
			<p:dataTable id="contents" var="ct" value="#{content.contentList}"
				selectionMode="single" selection="#{content.currentInfo}">

				<p:ajax event="rowSelect" update=":form:contentPanel" />

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{infogmsg.descriptions}" />
					</f:facet>
					<h:outputText value="#{ct.descriptions}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="URL" />
					</f:facet>
					<h:outputText value="#{ct.url}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="Type" />
					</f:facet>
					<h:outputText value="#{ct.type}" />
				</p:column>
			</p:dataTable>

			<p:panel id="contentPanel" header="Content Entry" toggleable="true"
				closable="false" toggleSpeed="500" onCloseUpdate="growl"
				closeSpeed="2000" onToggleUpdate="growl" widgetVar="panel">
				<h:panelGrid columns="3" cellpadding="10">
					<label>Description</label>
					<h:inputText label="Descriptions" id="descriptions"
						value="#{content.currentInfo.descriptions}" required="true" />
					<h:message for="descriptions" class="errorMsg" />
					<label>URL</label>
					<h:inputText label="URL" id="url"
						value="#{content.currentInfo.url}" required="true" />
					<h:message for="url" class="errorMsg" />
					<label>Type</label>
					<h:selectOneMenu id="type" value="#{content.currentInfo.type}">
						<f:selectItems value="#{content.contentTypeValues}" var="ct"
							itemValue="#{ct}" itemLabel="#{ct}" />
					</h:selectOneMenu>
					<h:message for="type" class="errorMsg" />
					<h:commandButton title="Add" value="Add" action="#{content.save()}" />
				</h:panelGrid>
			</p:panel>
		</h:form>
	</ui:define>
</ui:composition>